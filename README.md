# BeagleBone Beatbox

Developed a BeatBox application using the BeagleBone Green. The application is
capable of playing drum-beats at different tempos, volume, and drum sounds.
The application is designed to simulate a standard drum beat, utilizing three
primary drum sounds: the bass drum, the snare drum, and the hi-hat.

The application can be controlled by a web-app that allows the user to select the
tempo, volume, and drum sounds. The web-app communicates with the BeagleBone
using a UDP socket to communicate with the server and a WebSocket to communicate
between the server and the client. The application makes use of ALSA APIs to play sounds.

## Code Overview and Structure

### Compiler

This assignment uses C++ in lieu of C.
Run `sudo apt-get install g++-arm-linux-gnueabihf` and set the CMake compiler to `/usr/bin/arm-linux-gnueabihf-g++`

### Formatting

The project contains a `.clang-format` file. Run `sudo apt install clang-format`.
Ensure you download the `Clang-Format` vscode extension, set it as the default formatter, and set it to automatically format on save.

### Structure

-   `hal/`: Contains all low-level hardware abstraction layer (HAL) modules
-   `app/`: Contains all application-specific code. Broken into modules and a main file
-   `build/`: Generated by CMake; stores all temporary build files (may be deleted to clean)
-   'web-app/': Contains the web-app client and server for this project

```
  .
  ├── app
  │   ├── include
  │   │   └──
  │   ├── src
  │   │   ├
  │   │   └── main.c
  │   └── CMakeLists.txt           # Sub CMake file, just for app/
  ├── hal
  │   ├── include
  │   │   └── hal
  │   │       └──
  │   ├── src
  │   │   └──
  │   └── CMakeLists.txt           # Sub CMake file, just for hal/
  ├── CMakeLists.txt               # Main CMake file for the project
  └── README.md
```

### Usage

-   Install CMake: `sudo apt update` and `sudo apt install cmake`
-   When you first open the project, click the "Build" button in the status bar for CMake to generate the `build\` folder and recreate the makefiles.
    -   When you edit and save a CMakeLists.txt file, VS Code will automatically update this folder.
-   When you add a new file (.h or .c) to the project, you'll need to rerun CMake's build
    (Either click "Build" or resave `/CMakeLists.txt` to trigger VS Code re-running CMake)
-   Cross-compile using VS Code's CMake addon:
    -   The "kit" defines which compilers and tools will be run.
    -   Change the kit via the menu: Help > Show All Commands, type "CMake: Select a kit".
        -   Kit "GCC 10.2.1 arm-linux-gnueabi" builds for target.
        -   Kit "Unspecified" builds for host (using default `gcc`).
    -   Most CMake options for the project can be found in VS Code's CMake view (very left-hand side).
-   Build the project using Ctrl+Shift+B, or by the menu: Terminal > Run Build Task...
    -   If you try to build but get an error about "build is not a directory", the re-run CMake's build as mentioned above.
